# Test Task — Unity + Zenject
Небольшой Unity-проект, демонстрирующий рефакторинг Player из классического singleton-подхода в DI-решение с соблюдением SOLID, data-driven конфигурацией через SO и корректным использованием контекстов.

### Как запустить
1. Откройте сцену SampleScene из папки Assets/Scenes.
2. Запустите приложение.

### Что должно быть видно при запуске
На экране появится Player Debug Overlay, который отобразит:
- факт инициализации игрока,
- стартовые параметры,
- стартовую экипировку,
- изменения атрибутов и параметров экипировки, инициированные демо-компонентом взаимодействия,
как наглядная демонстрация требований без лишней "графики".

## Жизненные циклы (контексты)
**ProjectContext**: 
- глобальная инфраструктура
- Event Aggregator
- "UI" (Debug Overlay)
Взят для соблюдения логики DontDestroyOnLoad

**SceneContext**:
- биндинги и запуск инициализации фич
- сервисы самой сцены через _sceneServices

## Покрытие требований тестового
*(1–2) Интерфейс и реализация игрока*
IPlayer + Player.

*(3,10,12) Отказ от static singleton*
Уникальность обеспечивается контейнером (AsSingle).

*(5–6) DI в Unity*
Zenject, разделение Project/Scene контекстов.

*(8) Экипировка по условию*
Реализованы предметы и контейнер экипировки.

*(11) Параметры экипировки через DI*
Источник данных — EquipmentConfigSO, внедряется через installer.

*(4,9) Использование и изменение игрока из разных частей*
Сценовые сервисы и демо-система получают зависимости через SceneContext и изменяют состояние.
Факт изменений подтверждается событиями и выводом в Overlay.

*(7) Документационные комментарии*
Присутствуют в ключевых архитектурных узлах и местах принятия решений.


## События
Поверх требований тестового задания как архитектурное решение внедрен EventAggregator как коммуникационный слой между различными частями системы.
В результате благодаря его событиям реализовано взаимодействие дебаг-слоя с моментом инициализации игрока и изменением его параметров через отдельный сервис.

## Пайплайн инициализации
Под конец дополнительно поясню, как проходит инициализация приложения и проброс всех событий, чтобы легче было изучать реализацию:
- ProjectContext поднимается первым и живёт между сценами. Он биндит глобальную инфраструктуру: Event Aggregator и Debug Overlay/Presenter, готовый слушать события.
- SceneContext создаётся при загрузке сцены. Он подключает CoreSceneInstaller и регистрирует все MonoBehaviour из _sceneServices как сценовые зависимости и интерфейсы.
- PlayerFeatureInstaller биндит фичу игрока: PlayerConfigSO и EquipmentConfigSO как источники данных, фабрику, и IPlayer как AsSingle.
- DI запускает сценовый Bootstrapper. Он собирает все IGameFeatureInitializable из SceneContext и вызывает их Initialize().
- PlayerInitializer применяет стартовые значения из PlayerConfigSO и публикует PlayerInitializedEvent.
- Scene demo системы (например PlayerMutationDemoSystem) реагируют на PlayerInitializedEvent, изменяют атрибуты/экипировку через сценовые сервисы и публикуют события изменений.
- Project-scoped Debug Overlay получает все события и отображает полный жизненный цикл и доказательство выполнения требований.
